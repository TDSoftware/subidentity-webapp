"use strict";(self["webpackChunksubidentity_webapp"]=self["webpackChunksubidentity_webapp"]||[]).push([[8],{89970:function(e,t,s){s.d(t,{Z:function(){return p}});var n=s(28884),r=s(8254);function c(e,t,s,c,i,a){return(0,n.wg)(),(0,n.iD)("span",{class:"spinner",style:(0,r.j5)({"border-width":e.width+"px","border-color":e.color,width:e.size+"px",height:e.size+"px"})},null,4)}var i=s(82482),a=s(66520),o=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let l=class extends a.w3{constructor(...e){super(...e),(0,i.Z)(this,"color",void 0),(0,i.Z)(this,"size",void 0),(0,i.Z)(this,"width",void 0)}};l=o([(0,a.Ei)({props:{color:{type:String,default:"white"},size:{type:Number,default:14},width:{type:Number,default:2}}})],l);var d=l,h=s(40089);const u=(0,h.Z)(d,[["render",c],["__scopeId","data-v-1372dc47"]]);var p=u},77735:function(e,t,s){s.d(t,{Z:function(){return E}});var n=s(28884),r=s(92549),c=s(8254);const i={class:"bg-white shadow text-dark p-0 rounded"},a={class:"row align-items-center"},o={class:"col-lg-6 col-12"},l={class:"input-group"},d={class:"input-group-text fw-light text-muted"},h=["disabled"],u={class:"col-lg-2 col-12 d-grid mx-auto"},p=["disabled"],m=(0,n.Uk)(" SEARCH ");function f(e,t,s,f,y,b){const v=(0,n.up)("ion-icon"),g=(0,n.up)("CustomSelect"),w=(0,n.up)("Spinner");return(0,n.wg)(),(0,n.iD)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...t)=>e.submitIdentitySearch&&e.submitIdentitySearch(...t)),["prevent"]))},[(0,n._)("div",i,[(0,n._)("div",a,[(0,n._)("div",o,[(0,n._)("div",l,[(0,n._)("span",d,[(0,n.Wm)(v,{class:"fw-light text-muted",name:"search-outline"})]),(0,n.wy)((0,n._)("input",{disabled:e.busy,autofocus:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchTerm=t),class:"form-control text-muted search-input",placeholder:"Search for a Name, E-Mail, Address",type:"text"},null,8,h),[[r.nr,e.searchTerm]])])]),(0,n._)("div",{class:(0,c.C_)(["col-lg-3 col-12 custom-select-container",{disabled:e.busy}])},[(0,n.Wm)(g,{options:e.chainOptions,class:"select","selected-key":e.selectedChainKey,"onUpdate:selected-key":t[1]||(t[1]=t=>e.selectedChainKey=t)},null,8,["options","selected-key"])],2),(0,n._)("div",u,[(0,n._)("button",{ref:"searchButton",disabled:e.submitButtonDisabled,class:"btn btn-primary fw-normal text-white",type:"submit"},[e.busy?((0,n.wg)(),(0,n.j4)(w,{key:0})):(0,n.kq)("",!0),m],8,p)])])])],32)}var y=s(82482),b=s(66520);const v=["tabindex"],g={class:"icon fw-light text-muted"},w=["onClick"];function _(e,t,s,r,i,a){const o=(0,n.up)("ion-icon");return(0,n.wg)(),(0,n.iD)("div",{tabindex:e.tabindex,class:"custom-select",onBlur:t[1]||(t[1]=t=>e.open=!1)},[(0,n._)("span",g,[(0,n.Wm)(o,{class:"fw-light text-muted",name:"git-network-outline"})]),(0,n._)("div",{class:(0,c.C_)([{open:e.open},"selected fw-light text-muted"]),onClick:t[0]||(t[0]=(...t)=>e.onSelectClick&&e.onSelectClick(...t))},(0,c.zw)(e.selected?.displayValue),3),(0,n._)("div",{class:(0,c.C_)([{selectHide:!e.open},"items"])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{key:s,ref_for:!0,ref:"select-option",class:"select-option fw-light text-body",onClick:s=>e.setOption(t)},(0,c.zw)(t.displayValue),9,w)))),128))],2)],40,v)}var S=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let x=class extends b.w3{constructor(...e){super(...e),(0,y.Z)(this,"options",void 0),(0,y.Z)(this,"selectedKey",void 0),(0,y.Z)(this,"selected",{key:"",displayValue:""}),(0,y.Z)(this,"open",!1)}created(){this.selected=this.options.find((({key:e})=>e===this.selectedKey))??this.options[0],this.$emit("update:selectedKey",this.selected?.key)}onSelectClick(){this.open=!this.open}setOption(e){this.selected=e,this.open=!1,this.$emit("update:selectedKey",this.selected?.key)}};x=S([(0,b.Ei)({name:"CustomSelect",props:{options:{type:Array,required:!0},tabindex:{type:Number,required:!1,default:0},selectedKey:{type:String,required:!0}}})],x);var k=x,R=s(40089);const C=(0,R.Z)(k,[["render",_],["__scopeId","data-v-79dab586"]]);var Z=C,D=s(44755),T=s(89970),O=s(24044),j=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let I=class extends b.w3{constructor(...e){super(...e),(0,y.Z)(this,"store",(0,D.oR)()),(0,y.Z)(this,"searchTerm",""),(0,y.Z)(this,"selectedChainKey",""),(0,y.Z)(this,"searchResult",23),(0,y.Z)(this,"searchDate",(new Date).toUTCString()),(0,y.Z)(this,"busy",!1),(0,y.Z)(this,"implementsPallet",!1)}created(){const e=new URLSearchParams(window.location.search);this.searchTerm=e.get("query")??"",this.selectedChainKey=e.get("chain")??"";const t=this.searchTerm&&this.selectedChainKey&&this.store.getters.lastSearchTerm!==this.searchTerm;t&&this.submitIdentitySearch()}get submitButtonDisabled(){return!this.searchTerm||this.busy||!this.implementsPallet}get chainOptions(){return O.p5.map((e=>({key:e.key,displayValue:"In "+e.name})))}async checkIdentityPalletExists(){this.busy=!0,this.implementsPallet=await this.store.dispatch("IDENTITY_PALLET_EXISTS",this.selectedChainKey),this.implementsPallet||alert("Sorry, the selected node is not available or does not implement the identity pallet"),this.busy=!1}async submitIdentitySearch(){this.busy=!0;const e={searchTerm:this.searchTerm,selectedChainKey:this.selectedChainKey,results:[],timestamp:Date.now()};await this.store.dispatch("SEARCH_IDENTITIES",e),this.$emit("search",e),this.busy=!1}};I=j([(0,b.Ei)({components:{CustomSelect:Z,Spinner:T.Z},watch:{selectedChainKey(){this.checkIdentityPalletExists()}}})],I);var P=I;const K=(0,R.Z)(P,[["render",f],["__scopeId","data-v-d764aaf2"]]);var E=K},85597:function(e,t,s){s.r(t),s.d(t,{default:function(){return oe}});var n=s(28884);const r=e=>((0,n.dD)("data-v-656e04df"),e=e(),(0,n.Cn)(),e),c={class:"upper-part pb-5"},i={class:"logo-container align-items-end"},a={class:"pt-5 p-0 container-medium fade-in"},o={key:0,ref:"recentSearch",class:"subidentity-container pb-5 bg-white recent-search-container"},l=r((()=>(0,n._)("div",{class:"container-medium pt-5 p-0"},[(0,n._)("p",{class:"h4"},"Recent Searches")],-1)));function d(e,t,s,r,d,h){const u=(0,n.up)("Logo"),p=(0,n.up)("IdentitySearch"),m=(0,n.up)("RecentSearch");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",c,[(0,n._)("div",i,[(0,n.Wm)(u)]),(0,n._)("div",a,[(0,n.Wm)(p,{onSearch:e.onSearch},null,8,["onSearch"])])]),e.showRecentSearch?((0,n.wg)(),(0,n.iD)("div",o,[l,(0,n.Wm)(m,{class:"mb-5 pb-2 p-0 fade-in",onItemClicked:e.recallSearch},null,8,["onItemClicked"])],512)):(0,n.kq)("",!0)],64)}var h=s(82482),u=s(66520),p=s(66949);const m={class:"container-small pt-5"},f=(0,n._)("div",{class:"text-center"},[(0,n._)("img",{alt:"...",class:"",src:p}),(0,n._)("p",{class:"h4 pt-3"},"SubIdentity"),(0,n._)("p",{class:"text-muted"},"Search identities on Substrate chains")],-1),y=[f];function b(e,t,s,r,c,i){return(0,n.wg)(),(0,n.iD)("div",m,y)}var v=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let g=class extends u.w3{};g=v([(0,u.Ei)({})],g);var w=g,_=s(40089);const S=(0,_.Z)(w,[["render",b]]);var x=S,k=s(77735),R=s(8254);const C={class:"container-medium pt-4"},Z={class:"row"},D=["onClick"],T={class:"card-body"},O={class:"d-flex mb-3"},j={class:"fw-light text-muted pt-1"},I={class:"chain-name-badge d-flex flex-row badge text-capitalize bg-light mx-2"},P={class:"fw-light text-muted"},K={class:"mx-2"},E={class:"time-badge ms-auto fw-light text-muted text-nowrap text-truncate"},z={class:"h6"},q={class:"text-decoration-none link-primary result-count"},W={class:"d-flex justify-content-center"},$=(0,n.Uk)(" Clear Recent Searches ");function A(e,t,s,r,c,i){const a=(0,n.up)("ion-icon"),o=(0,n.up)("TimeAgo");return(0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("div",Z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.recentSearches,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{key:s,class:"col-xl-4 col-md-6 col-12"},[(0,n._)("div",{class:"card mb-4 recent-search-item",onClick:s=>e.$emit("itemClicked",t)},[(0,n._)("div",T,[(0,n._)("div",O,[(0,n._)("span",j,[(0,n.Wm)(a,{class:"text-muted",name:"search-outline"})]),(0,n._)("div",I,[(0,n._)("div",P,[(0,n.Wm)(a,{size:"small",class:"fw-light text-muted",name:"git-network-outline"})]),(0,n._)("div",K,(0,R.zw)(t.selectedChainKey),1)]),(0,n._)("div",E,[(0,n.Wm)(o,{date:new Date(t.timestamp)},null,8,["date"])])]),(0,n._)("p",z,(0,R.zw)(t.searchTerm),1),(0,n._)("span",q,(0,R.zw)(t.results.length)+" results ",1)])],8,D)])))),128))]),(0,n._)("div",W,[(0,n._)("button",{type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=(...t)=>e.clearRecentSearches&&e.clearRecentSearches(...t))},[(0,n.Wm)(a,{name:"trash"}),$])])])}function M(e,t,s,r,c,i){return(0,n.wg)(),(0,n.iD)("span",null,(0,R.zw)(e.formattedTime),1)}const U=60,H=3600,N=86400;function L(e,t){const s=Math.floor(Math.abs(e.getTime()-t.getTime())/1e3);let n,r;return s>=N?(n=Math.floor(s/N),r="day"):s>=H?(n=Math.floor(s/H),r="hour"):s>=U?(n=Math.floor(s/U),r="minute"):(n=s,r="second"),1===n?`${n} ${r} ago`:`${n} ${r}s ago`}var V=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let B=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"date",void 0),(0,h.Z)(this,"intervalTimer",void 0),(0,h.Z)(this,"formattedTime","")}created(){this.intervalTimer=setInterval(this.renderDate,1e3)}beforeUnmount(){this.intervalTimer&&clearInterval(this.intervalTimer)}renderDate(){this.formattedTime=L(this.date,new Date)}};B=V([(0,u.Ei)({props:{date:{type:Date,required:!0}}})],B);var Y=B;const X=(0,_.Z)(Y,[["render",M]]);var F=X,G=s(44755),J=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let Q=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,G.oR)())}get recentSearches(){const e=[...this.store.state.recentSearches];return e.sort(((e,t)=>t.timestamp-e.timestamp)),e}clearRecentSearches(){this.store.commit("clearRecentSearches")}};Q=J([(0,u.Ei)({components:{TimeAgo:F}})],Q);var ee=Q;const te=(0,_.Z)(ee,[["render",A],["__scopeId","data-v-8568f396"]]);var se=te,ne=s(55256),re=function(e,t,s,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,s,i):r(t,s))||i);return c>3&&i&&Object.defineProperty(t,s,i),i};let ce=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,G.oR)())}get showRecentSearch(){return this.store.state.recentSearches.length>0}onSearch(e){ne.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}recallSearch(e){ne.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}};ce=re([(0,u.Ei)({components:{Logo:x,IdentitySearch:k.Z,RecentSearch:se}})],ce);var ie=ce;const ae=(0,_.Z)(ie,[["render",d],["__scopeId","data-v-656e04df"]]);var oe=ae},82482:function(e,t,s){function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=home-view.8ab5b790.js.map