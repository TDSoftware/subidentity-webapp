"use strict";(self["webpackChunksubidentity_webapp"]=self["webpackChunksubidentity_webapp"]||[]).push([[8],{89970:function(e,t,r){r.d(t,{Z:function(){return p}});var s=r(28884),n=r(8254);function c(e,t,r,c,i,a){return(0,s.wg)(),(0,s.iD)("span",{class:"spinner",style:(0,n.j5)({"border-width":e.width+"px","border-color":e.color,width:e.size+"px",height:e.size+"px"})},null,4)}var i=r(82482),a=r(66520),o=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let l=class extends a.w3{constructor(...e){super(...e),(0,i.Z)(this,"color",void 0),(0,i.Z)(this,"size",void 0),(0,i.Z)(this,"width",void 0)}};l=o([(0,a.Ei)({props:{color:{type:String,default:"white"},size:{type:Number,default:14},width:{type:Number,default:2}}})],l);var d=l,h=r(40089);const u=(0,h.Z)(d,[["render",c],["__scopeId","data-v-1372dc47"]]);var p=u},62469:function(e,t,r){r.d(t,{Z:function(){return z}});var s=r(28884),n=r(92549);const c={class:"bg-white shadow text-dark p-0 rounded"},i={class:"row align-items-center"},a={class:"col-lg-6 col-12"},o={class:"input-group"},l={class:"input-group-text fw-light text-muted"},d={class:"col-lg-3 col-12 custom-select-container"},h={class:"col-lg-2 col-12 d-grid mx-auto"},u=["disabled"],p=(0,s.Uk)(" SEARCH ");function f(e,t,r,f,m,y){const g=(0,s.up)("ion-icon"),v=(0,s.up)("CustomSelect"),b=(0,s.up)("Spinner");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...t)=>e.submitIdentitySearch&&e.submitIdentitySearch(...t)),["prevent"]))},[(0,s._)("div",c,[(0,s._)("div",i,[(0,s._)("div",a,[(0,s._)("div",o,[(0,s._)("span",l,[(0,s.Wm)(g,{class:"fw-light text-muted",name:"search-outline"})]),(0,s.wy)((0,s._)("input",{autofocus:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchTerm=t),class:"form-control fw-light text-muted",placeholder:"Search for a Name, E-Mail, Address",type:"text"},null,512),[[n.nr,e.searchTerm]])])]),(0,s._)("div",d,[(0,s.Wm)(v,{options:e.chainOptions,class:"select","selected-key":e.selectedChainKey,"onUpdate:selected-key":t[1]||(t[1]=t=>e.selectedChainKey=t)},null,8,["options","selected-key"])]),(0,s._)("div",h,[(0,s._)("button",{ref:"searchButton",disabled:!e.searchTerm||e.searchInProgress,class:"btn btn-primary fw-normal text-white",type:"submit"},[e.searchInProgress?((0,s.wg)(),(0,s.j4)(b,{key:0})):(0,s.kq)("",!0),p],8,u)])])])],32)}var m=r(82482),y=r(66520),g=r(8254);const v=["tabindex"],b={class:"icon fw-light text-muted"},w=["onClick"];function _(e,t,r,n,c,i){const a=(0,s.up)("ion-icon");return(0,s.wg)(),(0,s.iD)("div",{tabindex:e.tabindex,class:"custom-select",onBlur:t[1]||(t[1]=t=>e.open=!1)},[(0,s._)("span",b,[(0,s.Wm)(a,{class:"fw-light text-muted",name:"git-network-outline"})]),(0,s._)("div",{class:(0,g.C_)([{open:e.open},"selected fw-light text-muted"]),onClick:t[0]||(t[0]=(...t)=>e.onSelectClick&&e.onSelectClick(...t))},(0,g.zw)(e.selected?.displayValue),3),(0,s._)("div",{class:(0,g.C_)([{selectHide:!e.open},"items"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.options,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{key:r,ref_for:!0,ref:"select-option",class:"select-option fw-light text-body",onClick:r=>e.setOption(t)},(0,g.zw)(t.displayValue),9,w)))),128))],2)],40,v)}var S=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let x=class extends y.w3{constructor(...e){super(...e),(0,m.Z)(this,"options",void 0),(0,m.Z)(this,"selectedKey",void 0),(0,m.Z)(this,"selected",{key:"",displayValue:""}),(0,m.Z)(this,"open",!1)}created(){this.selected=this.options.find((({key:e})=>e===this.selectedKey))??this.options[0],this.$emit("update:selectedKey",this.selected?.key)}onSelectClick(){this.open=!this.open}setOption(e){this.selected=e,this.open=!1,this.$emit("update:selectedKey",this.selected?.key)}};x=S([(0,y.Ei)({name:"CustomSelect",props:{options:{type:Array,required:!0},tabindex:{type:Number,required:!1,default:0},selectedKey:{type:String,required:!0}}})],x);var R=x,k=r(40089);const C=(0,k.Z)(R,[["render",_],["__scopeId","data-v-79dab586"]]);var Z=C,D=r(44755),T=r(89970),O=r(24044),j=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let I=class extends y.w3{constructor(...e){super(...e),(0,m.Z)(this,"store",(0,D.oR)()),(0,m.Z)(this,"searchTerm",""),(0,m.Z)(this,"selectedChainKey",""),(0,m.Z)(this,"searchResult",23),(0,m.Z)(this,"searchDate",(new Date).toUTCString()),(0,m.Z)(this,"searchInProgress",!1)}created(){const e=new URLSearchParams(window.location.search);this.searchTerm=e.get("query")??"",this.selectedChainKey=e.get("chain")??"";const t=this.searchTerm&&this.selectedChainKey&&this.store.getters.lastSearchTerm!==this.searchTerm;t&&this.submitIdentitySearch()}get chainOptions(){return O.p.map((e=>({key:e.key,displayValue:"In "+e.name})))}async submitIdentitySearch(){this.searchInProgress=!0;const e={searchTerm:this.searchTerm,selectedChainKey:this.selectedChainKey,results:[],timestamp:Date.now()};await this.store.dispatch("SEARCH_IDENTITIES",e),this.$emit("search",e),this.searchInProgress=!1}};I=j([(0,y.Ei)({components:{CustomSelect:Z,Spinner:T.Z}})],I);var P=I;const K=(0,k.Z)(P,[["render",f],["__scopeId","data-v-d06aed96"]]);var z=K},69634:function(e,t,r){r.r(t),r.d(t,{default:function(){return oe}});var s=r(28884);const n=e=>((0,s.dD)("data-v-1fb9a3c6"),e=e(),(0,s.Cn)(),e),c={class:"upper-part pb-5"},i={class:"logo-container align-items-end"},a={class:"pt-5 p-0 container-medium fade-in"},o={key:0,ref:"recentSearch",class:"subidentity-container pb-5 bg-white recent-search-container"},l=n((()=>(0,s._)("div",{class:"container-medium pt-5 p-0"},[(0,s._)("p",{class:"h4"},"Recent Searches")],-1)));function d(e,t,r,n,d,h){const u=(0,s.up)("Logo"),p=(0,s.up)("IdentitySearch"),f=(0,s.up)("RecentSearch");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",c,[(0,s._)("div",i,[(0,s.Wm)(u)]),(0,s._)("div",a,[(0,s.Wm)(p,{onSearch:e.onSearch},null,8,["onSearch"])])]),e.showRecentSearch?((0,s.wg)(),(0,s.iD)("div",o,[l,(0,s.Wm)(f,{class:"mb-5 pb-2 p-0 fade-in",onItemClicked:e.recallSearch},null,8,["onItemClicked"])],512)):(0,s.kq)("",!0)],64)}var h=r(82482),u=r(66520),p=r(66949);const f={class:"container-small pt-5"},m=(0,s._)("div",{class:"text-center"},[(0,s._)("img",{alt:"...",class:"",src:p}),(0,s._)("p",{class:"h4 pt-3"},"SubIdentity"),(0,s._)("p",{class:"text-muted"},"Search identities on Substrate chains")],-1),y=[m];function g(e,t,r,n,c,i){return(0,s.wg)(),(0,s.iD)("div",f,y)}var v=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let b=class extends u.w3{};b=v([(0,u.Ei)({})],b);var w=b,_=r(40089);const S=(0,_.Z)(w,[["render",g]]);var x=S,R=r(62469),k=r(8254);const C={class:"container-medium pt-4"},Z={class:"row"},D=["onClick"],T={class:"card-body"},O={class:"d-flex mb-3"},j={class:"fw-light text-muted pt-1"},I={class:"chain-name-badge d-flex flex-row badge text-capitalize bg-light mx-2"},P={class:"fw-light text-muted"},K={class:"mx-2"},z={class:"time-badge ms-auto fw-light text-muted text-nowrap text-truncate"},E={class:"h6"},q={class:"text-decoration-none link-primary result-count"},W={class:"d-flex justify-content-center"},$=(0,s.Uk)(" Clear Recent Searches ");function M(e,t,r,n,c,i){const a=(0,s.up)("ion-icon"),o=(0,s.up)("TimeAgo");return(0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("div",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.recentSearches,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{key:r,class:"col-xl-4 col-md-6 col-12"},[(0,s._)("div",{class:"card mb-4 recent-search-item",onClick:r=>e.$emit("itemClicked",t)},[(0,s._)("div",T,[(0,s._)("div",O,[(0,s._)("span",j,[(0,s.Wm)(a,{class:"text-muted",name:"search-outline"})]),(0,s._)("div",I,[(0,s._)("div",P,[(0,s.Wm)(a,{size:"small",class:"fw-light text-muted",name:"git-network-outline"})]),(0,s._)("div",K,(0,k.zw)(t.selectedChainKey),1)]),(0,s._)("div",z,[(0,s.Wm)(o,{date:new Date(t.timestamp)},null,8,["date"])])]),(0,s._)("p",E,(0,k.zw)(t.searchTerm),1),(0,s._)("span",q,(0,k.zw)(t.results.length)+" results ",1)])],8,D)])))),128))]),(0,s._)("div",W,[(0,s._)("button",{type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=(...t)=>e.clearRecentSearches&&e.clearRecentSearches(...t))},[(0,s.Wm)(a,{name:"trash"}),$])])])}function U(e,t,r,n,c,i){return(0,s.wg)(),(0,s.iD)("span",null,(0,k.zw)(e.formattedTime),1)}const A=60,H=3600,N=86400;function V(e,t){const r=Math.floor(Math.abs(e.getTime()-t.getTime())/1e3);let s,n;return r>=N?(s=Math.floor(r/N),n="day"):r>=H?(s=Math.floor(r/H),n="hour"):r>=A?(s=Math.floor(r/A),n="minute"):(s=r,n="second"),1===s?`${s} ${n} ago`:`${s} ${n}s ago`}var L=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let Y=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"date",void 0),(0,h.Z)(this,"intervalTimer",void 0),(0,h.Z)(this,"formattedTime","")}created(){this.intervalTimer=setInterval(this.renderDate,1e3)}beforeUnmount(){this.intervalTimer&&clearInterval(this.intervalTimer)}renderDate(){this.formattedTime=V(this.date,new Date)}};Y=L([(0,u.Ei)({props:{date:{type:Date,required:!0}}})],Y);var B=Y;const F=(0,_.Z)(B,[["render",U]]);var G=F,J=r(44755),Q=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let X=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,J.oR)())}get recentSearches(){const e=[...this.store.state.recentSearches];return e.sort(((e,t)=>t.timestamp-e.timestamp)),e}clearRecentSearches(){this.store.commit("clearRecentSearches")}};X=Q([(0,u.Ei)({components:{TimeAgo:G}})],X);var ee=X;const te=(0,_.Z)(ee,[["render",M],["__scopeId","data-v-8568f396"]]);var re=te,se=r(15311),ne=function(e,t,r,s){var n,c=arguments.length,i=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};let ce=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,J.oR)())}get showRecentSearch(){return this.store.state.recentSearches.length>0}onSearch(e){se.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}recallSearch(e){se.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}};ce=ne([(0,u.Ei)({components:{Logo:x,IdentitySearch:R.Z,RecentSearch:re}})],ce);var ie=ce;const ae=(0,_.Z)(ie,[["render",d],["__scopeId","data-v-1fb9a3c6"]]);var oe=ae},82482:function(e,t,r){function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=home-view.e3626b2f.js.map