"use strict";(self["webpackChunksubidentity_webapp"]=self["webpackChunksubidentity_webapp"]||[]).push([[8],{44269:function(e,t,s){s.d(t,{Z:function(){return U}});var r=s(28884),n=s(92549);const c={class:"bg-white shadow text-dark p-0 rounded"},a={class:"row align-items-center"},i={class:"col-lg-6 col-12"},o={class:"input-group"},l={class:"input-group-text fw-light text-muted"},d={class:"col-lg-3 col-12 custom-select-container"},h={class:"col-lg-2 col-12 d-grid mx-auto"},u=["disabled"],p=(0,r.Uk)(" SEARCH ");function f(e,t,s,f,m,y){const g=(0,r.up)("ion-icon"),v=(0,r.up)("CustomSelect"),b=(0,r.up)("Spinner");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...t)=>e.submitIdentitySearch&&e.submitIdentitySearch(...t)),["prevent"]))},[(0,r._)("div",c,[(0,r._)("div",a,[(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("span",l,[(0,r.Wm)(g,{class:"fw-light text-muted",name:"search-outline"})]),(0,r.wy)((0,r._)("input",{autofocus:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchTerm=t),class:"form-control fw-light text-muted",placeholder:"Search for a Name, E-Mail, Address",type:"text"},null,512),[[n.nr,e.searchTerm]])])]),(0,r._)("div",d,[(0,r.Wm)(v,{options:e.chainOptions,class:"select","selected-key":e.selectedChainKey,"onUpdate:selected-key":t[1]||(t[1]=t=>e.selectedChainKey=t)},null,8,["options","selected-key"])]),(0,r._)("div",h,[(0,r._)("button",{ref:"searchButton",disabled:!e.searchTerm||e.searchInProgress,class:"btn btn-primary fw-normal text-white",type:"submit"},[e.searchInProgress?((0,r.wg)(),(0,r.j4)(b,{key:0})):(0,r.kq)("",!0),p],8,u)])])])],32)}var m=s(82482),y=s(66520),g=s(8254);const v=["tabindex"],b={class:"icon fw-light text-muted"},w=["onClick"];function _(e,t,s,n,c,a){const i=(0,r.up)("ion-icon");return(0,r.wg)(),(0,r.iD)("div",{tabindex:e.tabindex,class:"custom-select",onBlur:t[1]||(t[1]=t=>e.open=!1)},[(0,r._)("span",b,[(0,r.Wm)(i,{class:"fw-light text-muted",name:"git-network-outline"})]),(0,r._)("div",{class:(0,g.C_)([{open:e.open},"selected fw-light text-muted"]),onClick:t[0]||(t[0]=(...t)=>e.onSelectClick&&e.onSelectClick(...t))},(0,g.zw)(e.selected?.displayValue),3),(0,r._)("div",{class:(0,g.C_)([{selectHide:!e.open},"items"])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,((t,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,ref_for:!0,ref:"select-option",class:"select-option fw-light text-body",onClick:s=>e.setOption(t)},(0,g.zw)(t.displayValue),9,w)))),128))],2)],40,v)}var S=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let x=class extends y.w3{constructor(...e){super(...e),(0,m.Z)(this,"options",void 0),(0,m.Z)(this,"selectedKey",void 0),(0,m.Z)(this,"selected",{key:"",displayValue:""}),(0,m.Z)(this,"open",!1)}created(){this.selected=this.options.find((({key:e})=>e===this.selectedKey))??this.options[0],this.$emit("update:selectedKey",this.selected?.key)}onSelectClick(){this.open=!this.open}setOption(e){this.selected=e,this.open=!1,this.$emit("update:selectedKey",this.selected?.key)}};x=S([(0,y.Ei)({name:"CustomSelect",props:{options:{type:Array,required:!0},tabindex:{type:Number,required:!1,default:0},selectedKey:{type:String,required:!0}}})],x);var R=x,k=s(40089);const C=(0,k.Z)(R,[["render",_],["__scopeId","data-v-79dab586"]]);var D=C,T=s(44755);const Z={class:"spinner"};function O(e,t,s,n,c,a){return(0,r.wg)(),(0,r.iD)("span",Z)}var I=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let j=class extends y.w3{};j=I([(0,y.Ei)({})],j);var P=j;const K=(0,k.Z)(P,[["render",O],["__scopeId","data-v-3f7b875b"]]);var E=K,q=s(24044),W=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let z=class extends y.w3{constructor(...e){super(...e),(0,m.Z)(this,"store",(0,T.oR)()),(0,m.Z)(this,"searchTerm",""),(0,m.Z)(this,"selectedChainKey",""),(0,m.Z)(this,"searchResult",23),(0,m.Z)(this,"searchDate",(new Date).toUTCString()),(0,m.Z)(this,"searchInProgress",!1)}created(){const e=new URLSearchParams(window.location.search);this.searchTerm=e.get("query")??"",this.selectedChainKey=e.get("chain")??"";const t=this.searchTerm&&this.selectedChainKey&&this.store.getters.lastSearchTerm!==this.searchTerm;t&&this.submitIdentitySearch()}get chainOptions(){return q.p.map((e=>({key:e.key,displayValue:"In "+e.name})))}async submitIdentitySearch(){this.searchInProgress=!0;const e={searchTerm:this.searchTerm,selectedChainKey:this.selectedChainKey,results:[],timestamp:Date.now()};await this.store.dispatch("SEARCH_IDENTITIES",e),this.$emit("search",e),this.searchInProgress=!1}};z=W([(0,y.Ei)({components:{CustomSelect:D,Spinner:E}})],z);var $=z;const M=(0,k.Z)($,[["render",f],["__scopeId","data-v-d06aed96"]]);var U=M},69634:function(e,t,s){s.r(t),s.d(t,{default:function(){return oe}});var r=s(28884);const n=e=>((0,r.dD)("data-v-1fb9a3c6"),e=e(),(0,r.Cn)(),e),c={class:"upper-part pb-5"},a={class:"logo-container align-items-end"},i={class:"pt-5 p-0 container-medium fade-in"},o={key:0,ref:"recentSearch",class:"subidentity-container pb-5 bg-white recent-search-container"},l=n((()=>(0,r._)("div",{class:"container-medium pt-5 p-0"},[(0,r._)("p",{class:"h4"},"Recent Searches")],-1)));function d(e,t,s,n,d,h){const u=(0,r.up)("Logo"),p=(0,r.up)("IdentitySearch"),f=(0,r.up)("RecentSearch");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",c,[(0,r._)("div",a,[(0,r.Wm)(u)]),(0,r._)("div",i,[(0,r.Wm)(p,{onSearch:e.onSearch},null,8,["onSearch"])])]),e.showRecentSearch?((0,r.wg)(),(0,r.iD)("div",o,[l,(0,r.Wm)(f,{class:"mb-5 pb-2 p-0 fade-in",onItemClicked:e.recallSearch},null,8,["onItemClicked"])],512)):(0,r.kq)("",!0)],64)}var h=s(82482),u=s(66520),p=s(66949);const f={class:"container-small pt-5"},m=(0,r._)("div",{class:"text-center"},[(0,r._)("img",{alt:"...",class:"",src:p}),(0,r._)("p",{class:"h4 pt-3"},"SubIdentity"),(0,r._)("p",{class:"text-muted"},"Search identities on Substrate chains")],-1),y=[m];function g(e,t,s,n,c,a){return(0,r.wg)(),(0,r.iD)("div",f,y)}var v=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let b=class extends u.w3{};b=v([(0,u.Ei)({})],b);var w=b,_=s(40089);const S=(0,_.Z)(w,[["render",g]]);var x=S,R=s(44269),k=s(8254);const C={class:"container-medium pt-4"},D={class:"row"},T=["onClick"],Z={class:"card-body"},O={class:"d-flex mb-3"},I={class:"fw-light text-muted pt-1"},j={class:"chain-name-badge d-flex flex-row badge text-capitalize bg-light mx-2"},P={class:"fw-light text-muted"},K={class:"mx-2"},E={class:"time-badge ms-auto fw-light text-muted text-nowrap text-truncate"},q={class:"h6"},W={class:"text-decoration-none link-primary result-count"},z={class:"d-flex justify-content-center"},$=(0,r.Uk)(" Clear Recent Searches ");function M(e,t,s,n,c,a){const i=(0,r.up)("ion-icon"),o=(0,r.up)("TimeAgo");return(0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("div",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.recentSearches,((t,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s,class:"col-xl-4 col-md-6 col-12"},[(0,r._)("div",{class:"card mb-4 recent-search-item",onClick:s=>e.$emit("itemClicked",t)},[(0,r._)("div",Z,[(0,r._)("div",O,[(0,r._)("span",I,[(0,r.Wm)(i,{class:"text-muted",name:"search-outline"})]),(0,r._)("div",j,[(0,r._)("div",P,[(0,r.Wm)(i,{size:"small",class:"fw-light text-muted",name:"git-network-outline"})]),(0,r._)("div",K,(0,k.zw)(t.selectedChainKey),1)]),(0,r._)("div",E,[(0,r.Wm)(o,{date:new Date(t.timestamp)},null,8,["date"])])]),(0,r._)("p",q,(0,k.zw)(t.searchTerm),1),(0,r._)("span",W,(0,k.zw)(t.results.length)+" results ",1)])],8,T)])))),128))]),(0,r._)("div",z,[(0,r._)("button",{type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=(...t)=>e.clearRecentSearches&&e.clearRecentSearches(...t))},[(0,r.Wm)(i,{name:"trash"}),$])])])}function U(e,t,s,n,c,a){return(0,r.wg)(),(0,r.iD)("span",null,(0,k.zw)(e.formattedTime),1)}const A=60,H=3600,V=86400;function L(e,t){const s=Math.floor(Math.abs(e.getTime()-t.getTime())/1e3);let r,n;return s>=V?(r=Math.floor(s/V),n="day"):s>=H?(r=Math.floor(s/H),n="hour"):s>=A?(r=Math.floor(s/A),n="minute"):(r=s,n="second"),1===r?`${r} ${n} ago`:`${r} ${n}s ago`}var N=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let Y=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"date",void 0),(0,h.Z)(this,"intervalTimer",void 0),(0,h.Z)(this,"formattedTime","")}created(){this.intervalTimer=setInterval(this.renderDate,1e3)}beforeUnmount(){this.intervalTimer&&clearInterval(this.intervalTimer)}renderDate(){this.formattedTime=L(this.date,new Date)}};Y=N([(0,u.Ei)({props:{date:{type:Date,required:!0}}})],Y);var B=Y;const F=(0,_.Z)(B,[["render",U]]);var G=F,J=s(44755),Q=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let X=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,J.oR)())}get recentSearches(){const e=[...this.store.state.recentSearches];return e.sort(((e,t)=>t.timestamp-e.timestamp)),e}clearRecentSearches(){this.store.commit("clearRecentSearches")}};X=Q([(0,u.Ei)({components:{TimeAgo:G}})],X);var ee=X;const te=(0,_.Z)(ee,[["render",M],["__scopeId","data-v-8568f396"]]);var se=te,re=s(15311),ne=function(e,t,s,r){var n,c=arguments.length,a=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(a=(c<3?n(a):c>3?n(t,s,a):n(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a};let ce=class extends u.w3{constructor(...e){super(...e),(0,h.Z)(this,"store",(0,J.oR)())}get showRecentSearch(){return this.store.state.recentSearches.length>0}onSearch(e){re.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}recallSearch(e){re.Z.push({path:"/search",query:{query:e.searchTerm,chain:e.selectedChainKey}})}};ce=ne([(0,u.Ei)({components:{Logo:x,IdentitySearch:R.Z,RecentSearch:se}})],ce);var ae=ce;const ie=(0,_.Z)(ae,[["render",d],["__scopeId","data-v-1fb9a3c6"]]);var oe=ie},82482:function(e,t,s){function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=home-view.5afbfb9c.js.map